# 最佳实践

## 核心原则

1. **始终使用 shadcn/ui 组件** - 避免重复造轮子
2. **保持组件单一职责** - 便于维护和测试
3. **编写有意义的注释** - 特别是复杂逻辑
4. **测试暗色模式** - 确保所有组件在两种模式下都正常显示
5. **优化性能** - 避免不必要的重渲染
6. **保持代码简洁** - 遵循 DRY 原则

## 开发流程

1. 从 `main` 分支创建功能分支
2. 开发并测试功能
3. 运行 `pnpm check` 确保代码质量
4. 提交代码并创建 Pull Request
5. 代码审查通过后合并

## 常用命令

```bash
# 开发服务器
pnpm dev

# 构建生产版本
pnpm build

# 预览生产构建
pnpm preview

# 代码检查和格式化
pnpm check

# 类型检查
pnpm astro check
```

## 注意事项

### 样式
- 优先使用 shadcn/ui 语义化颜色
- 使用 `cn()` 函数合并类名
- 保持响应式设计
- 支持暗色模式

### 组件
- 使用 TypeScript 定义清晰的接口
- 导出可复用的组件
- 避免过度嵌套
- 保持组件小而专注

### 性能
- 使用 Astro 的 Image 组件优化图片
- 懒加载非关键组件
- 避免不必要的客户端 JavaScript
- 使用动态导入进行代码分割

### 可访问性
- 使用语义化 HTML 标签
- 提供 aria 标签
- 确保键盘可访问
- 测试屏幕阅读器兼容性
